# Source Prezto.
if [[ -s "${ZDOTDIR:-$HOME}/.zprezto/init.zsh" ]]; then
  source "${ZDOTDIR:-$HOME}/.zprezto/init.zsh"
fi

# Starship prompt
eval "$(starship init zsh)"

# Autostart tmux only when running inside Ghostty
# Use a separate socket named "main" to avoid attaching to any tmux sessions
# that other processes may have started on the default socket.
if [[ -z "$TMUX" && -t 1 && "$TERM_PROGRAM" == "ghostty" && "$__CFBundleIdentifier" != "com.docker.docker" ]]; then
  tmux -L main attach -t main 2>/dev/null || tmux -L main new -s main
fi

# User configuration

# Use vi-mode in Your Shell, see also vi-mode plugin
bindkey -M viins 'jj' vi-cmd-mode
bindkey '^R' history-incremental-search-backward

# disable auto correct
unsetopt CORRECT

# Aliases
[[ -f ~/.aliases ]] && source ~/.aliases

# ~/.extra can be used for other settings you don't want to commit.
[[ -f ~/.extra ]] && source ~/.extra
